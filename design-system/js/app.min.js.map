{"version":3,"sources":["vendor/jquery.hoverIntent.js","vendor/smartresize.js","app.js"],"names":["factory","define","amd","module","_typeof","exports","require","jQuery","fn","hoverIntent","$","cX","cY","_cfg","interval","sensitivity","timeout","INSTANCE_COUNT","track","ev","pageX","pageY","isFunction","value","handlerIn","handlerOut","selector","instanceId","cfg","extend","isPlainObject","out","over","handleHover","e","$el","this","hoverIntentData","data","state","id","timeoutId","clearTimeout","mousemove","event","type","isActive","pX","pY","off","on","setTimeout","compare","s","Math","sqrt","apply","delay","mouseenter.hoverIntent","mouseleave.hoverIntent","sr","bind","func","obj","args","arguments","delayed","execAsap","threshold","trigger","document","ready","megaNav","megaNavToggle","megaNavClose","megaNavFullBreakpoint","window","matchMedia","updateMegaNavBreakpointClass","matches","addClass","removeClass","expandChildren","link","siblings","parent","find","hasClass","smartResize","preventDefault","item","eq","closest","megaNavInit"],"mappings":"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","sourcesContent":["/*!\n * hoverIntent v1.10.1 // 2019.10.05 // jQuery v1.7.0+\n * http://briancherne.github.io/jquery-hoverIntent/\n *\n * You may use hoverIntent under the terms of the MIT license. Basically that\n * means you are free to use hoverIntent as long as this header is left intact.\n * Copyright 2007-2019 Brian Cherne\n */\n\n/**\n * hoverIntent is similar to jQuery's built-in \"hover\" method except that\n * instead of firing the handlerIn function immediately, hoverIntent checks\n * to see if the user's mouse has slowed down (beneath the sensitivity\n * threshold) before firing the event. The handlerOut function is only\n * called after a matching handlerIn.\n *\n * // basic usage ... just like .hover()\n * .hoverIntent( handlerIn, handlerOut )\n * .hoverIntent( handlerInOut )\n *\n * // basic usage ... with event delegation!\n * .hoverIntent( handlerIn, handlerOut, selector )\n * .hoverIntent( handlerInOut, selector )\n *\n * // using a basic configuration object\n * .hoverIntent( config )\n *\n * @param  handlerIn   function OR configuration object\n * @param  handlerOut  function OR selector for delegation OR undefined\n * @param  selector    selector OR undefined\n * @author Brian Cherne <brian(at)cherne(dot)net>\n */\n\n;(function(factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory(require('jquery'));\n    } else if (jQuery && !jQuery.fn.hoverIntent) {\n        factory(jQuery);\n    }\n})(function($) {\n    'use strict';\n\n    // default configuration values\n    var _cfg = {\n        interval: 100,\n        sensitivity: 6,\n        timeout: 0\n    };\n\n    // counter used to generate an ID for each instance\n    var INSTANCE_COUNT = 0;\n\n    // current X and Y position of mouse, updated during mousemove tracking (shared across instances)\n    var cX, cY;\n\n    // saves the current pointer position coordinates based on the given mousemove event\n    var track = function(ev) {\n        cX = ev.pageX;\n        cY = ev.pageY;\n    };\n\n    // compares current and previous mouse positions\n    var compare = function(ev,$el,s,cfg) {\n        // compare mouse positions to see if pointer has slowed enough to trigger `over` function\n        if ( Math.sqrt( (s.pX-cX)*(s.pX-cX) + (s.pY-cY)*(s.pY-cY) ) < cfg.sensitivity ) {\n            $el.off(s.event,track);\n            delete s.timeoutId;\n            // set hoverIntent state as active for this element (permits `out` handler to trigger)\n            s.isActive = true;\n            // overwrite old mouseenter event coordinates with most recent pointer position\n            ev.pageX = cX; ev.pageY = cY;\n            // clear coordinate data from state object\n            delete s.pX; delete s.pY;\n            return cfg.over.apply($el[0],[ev]);\n        } else {\n            // set previous coordinates for next comparison\n            s.pX = cX; s.pY = cY;\n            // use self-calling timeout, guarantees intervals are spaced out properly (avoids JavaScript timer bugs)\n            s.timeoutId = setTimeout( function(){compare(ev, $el, s, cfg);} , cfg.interval );\n        }\n    };\n\n    // triggers given `out` function at configured `timeout` after a mouseleave and clears state\n    var delay = function(ev,$el,s,out) {\n        var data = $el.data('hoverIntent');\n        if (data) {\n            delete data[s.id];\n        }\n        return out.apply($el[0],[ev]);\n    };\n\n    // checks if `value` is a function\n    var isFunction = function (value) {\n        return typeof value === 'function';\n    };\n\n    $.fn.hoverIntent = function(handlerIn,handlerOut,selector) {\n        // instance ID, used as a key to store and retrieve state information on an element\n        var instanceId = INSTANCE_COUNT++;\n\n        // extend the default configuration and parse parameters\n        var cfg = $.extend({}, _cfg);\n        if ( $.isPlainObject(handlerIn) ) {\n            cfg = $.extend(cfg, handlerIn);\n            if ( !isFunction(cfg.out) ) {\n                cfg.out = cfg.over;\n            }\n        } else if ( isFunction(handlerOut) ) {\n            cfg = $.extend(cfg, { over: handlerIn, out: handlerOut, selector: selector } );\n        } else {\n            cfg = $.extend(cfg, { over: handlerIn, out: handlerIn, selector: handlerOut } );\n        }\n\n        // A private function for handling mouse 'hovering'\n        var handleHover = function(e) {\n            // cloned event to pass to handlers (copy required for event object to be passed in IE)\n            var ev = $.extend({},e);\n\n            // the current target of the mouse event, wrapped in a jQuery object\n            var $el = $(this);\n\n            // read hoverIntent data from element (or initialize if not present)\n            var hoverIntentData = $el.data('hoverIntent');\n            if (!hoverIntentData) { $el.data('hoverIntent', (hoverIntentData = {})); }\n\n            // read per-instance state from element (or initialize if not present)\n            var state = hoverIntentData[instanceId];\n            if (!state) { hoverIntentData[instanceId] = state = { id: instanceId }; }\n\n            // state properties:\n            // id = instance ID, used to clean up data\n            // timeoutId = timeout ID, reused for tracking mouse position and delaying \"out\" handler\n            // isActive = plugin state, true after `over` is called just until `out` is called\n            // pX, pY = previously-measured pointer coordinates, updated at each polling interval\n            // event = string representing the namespaced event used for mouse tracking\n\n            // clear any existing timeout\n            if (state.timeoutId) { state.timeoutId = clearTimeout(state.timeoutId); }\n\n            // namespaced event used to register and unregister mousemove tracking\n            var mousemove = state.event = 'mousemove.hoverIntent.hoverIntent'+instanceId;\n\n            // handle the event, based on its type\n            if (e.type === 'mouseenter') {\n                // do nothing if already active\n                if (state.isActive) { return; }\n                // set \"previous\" X and Y position based on initial entry point\n                state.pX = ev.pageX; state.pY = ev.pageY;\n                // update \"current\" X and Y position based on mousemove\n                $el.off(mousemove,track).on(mousemove,track);\n                // start polling interval (self-calling timeout) to compare mouse coordinates over time\n                state.timeoutId = setTimeout( function(){compare(ev,$el,state,cfg);} , cfg.interval );\n            } else { // \"mouseleave\"\n                // do nothing if not already active\n                if (!state.isActive) { return; }\n                // unbind expensive mousemove event\n                $el.off(mousemove,track);\n                // if hoverIntent state is true, then call the mouseOut function after the specified delay\n                state.timeoutId = setTimeout( function(){delay(ev,$el,state,cfg.out);} , cfg.timeout );\n            }\n        };\n\n        // listen for mouseenter and mouseleave\n        return this.on({'mouseenter.hoverIntent':handleHover,'mouseleave.hoverIntent':handleHover}, cfg.selector);\n    };\n});\n","(function($,sr){\n \n  // debouncing function from John Hann\n  // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n  var debounce = function (func, threshold, execAsap) {\n      var timeout;\n \n      return function debounced () {\n          var obj = this, args = arguments;\n          function delayed () {\n              if (!execAsap)\n                  func.apply(obj, args);\n              timeout = null; \n          };\n \n          if (timeout)\n              clearTimeout(timeout);\n          else if (execAsap)\n              func.apply(obj, args);\n \n          timeout = setTimeout(delayed, threshold || 100); \n      };\n  }\n\t// smartresize \n\tjQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\n \n})(jQuery,'smartResize');\n","/* global jQuery */\n\n// @codekit-prepend quiet './vendor/jquery.hoverIntent';\n// @codekit-prepend quiet './vendor/smartResize';\n\n\n(function ($) {\n\n  let megaNavInit = function () {\n    let megaNav = $('#megaNav');\n    let megaNavToggle = $('#toggle-megaNav');\n    let megaNavClose = $('#megaNav__close');\n    let megaNavFullBreakpoint = window.matchMedia('(min-width: 70rem)');\n\n    megaNavToggle.on('click', function () {\n      var navIsOpen = megaNav.hasClass('is-open');\n\n      if (navIsOpen) {\n        $(this).removeClass('is-toggled');\n        megaNav.removeClass('is-open');\n      } else {\n        $(this).addClass('is-toggled');\n        megaNav.addClass('is-open');\n      }\n    });\n\n    megaNavClose.on('click', function () {\n      var navIsOpen = megaNav.hasClass('is-open');\n\n      if (navIsOpen) {\n        megaNavToggle.removeClass('is-toggled');\n        megaNav.removeClass('is-open');\n      } else {\n        megaNavToggle.addClass('is-toggled');\n        megaNav.addClass('is-open');\n      }\n    });\n\n    function updateMegaNavBreakpointClass() {\n      if (megaNavFullBreakpoint.matches) {\n        megaNav.addClass('is-largescreen');\n        megaNav.removeClass('is-smallscreen');\n      }\n      else {\n        megaNav.removeClass('is-largescreen');\n        megaNav.addClass('is-smallscreen');\n      }\n    }\n\n    updateMegaNavBreakpointClass();\n\n    $(window).smartResize(function () {\n      megaNavFullBreakpoint = window.matchMedia('(min-width: 70rem)');\n      updateMegaNavBreakpointClass();\n    });\n\n    function expandChildren(link) {\n      let item = $(link).parent();\n      let siblings = item.siblings();\n\n      $(siblings).find('.is-expanded').removeClass('is-expanded');\n      $(siblings).removeClass('is-expanded')\n\n      $(link).parent().addClass('is-expanded');\n    }\n\n    $(document).on('click', '#megaNav.is-smallscreen .has-children', function (e) {\n      e.preventDefault();\n      expandChildren($(this));\n    });\n\n    $(document).on('click', '#megaNav.is-largescreen .has-children', function (e) {\n      e.preventDefault();\n      expandChildren($(this));\n    });\n\n    $('#megaNav.is-largescreen').hoverIntent({\n      over: function () {\n        expandChildren($(this));\n        let item = $(this).parent();\n        let secondLevelLink = $('.megaNav__secondLevel-link.has-children', item).eq(0);\n        expandChildren(secondLevelLink);\n      },\n      out: function () {\n        // $(this).closest('.is-expanded').removeClass('is-expanded');\n      },\n      selector: '.megaNav__topLevel-link.has-children',\n      sensitivity: 25\n    });\n\n    $('#megaNav.is-largescreen').hoverIntent({\n      over: function () {\n        expandChildren($(this));\n        let item = $(this).parent();\n        let thirdLevelLink = $('.megaNav__thirdLevel-link.has-children', item).eq(0);\n        expandChildren(thirdLevelLink);\n      },\n      out: function () {\n        // $(this).closest('.is-expanded').removeClass('is-expanded');\n      },\n      selector: '.megaNav__secondLevel-link.has-children',\n      sensitivity: 75\n    });\n\n    $('#megaNav.is-largescreen').hoverIntent({\n      over: function () {\n      },\n      out: function () {\n        $('.is-expanded', megaNav).removeClass('is-expanded');\n      },\n      timeout: 250\n    });\n\n    $('.megaNav__closeLevel', megaNav).on('click', function (e) {\n      e.preventDefault();\n      $(this).closest('.is-expanded').removeClass('is-expanded');\n    });\n\n\n    // @TODO: HANDLE KEYBOARD FOCUS BETTER!\n\n  };\n\n  // --\n\n  $(document).ready(function () {\n    megaNavInit();\n  });\n\n})(jQuery);\n"]}