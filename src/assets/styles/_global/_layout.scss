@import "../__vars/layout";

main {
  position: relative;
  z-index: 0;
  clear: both;
  overflow-x: hidden; // this is set to stop page horizontal scrollbar when using align-wide with 100vw, see https://caniuse.com/#feat=viewport-units (known issues)

  @at-root {
    .page-node-type-article-shorthand,
    .shorthand-embed-body {
      main {
        overflow-x: initial; // Shorthand requires this be set back
      }
    }
  }

  & {
    // .has-bg-gradient--top
    margin-top: -#{$layout-md};
    padding-top: $layout-md;

    &:before {
      @include panel__gradient('top');
      top: 0;
    }
  }

  & {
    // .has-bg-gradient--bottom
    padding-bottom: $layout-xl;
    margin-bottom: 0;

    &:after {
      @include panel__gradient('bottom');
      bottom: 0;
    }
  }
}

section {
  margin: $layout-lg 0;

  &:first-child {
    margin-top: 0;
  }
}

.wrap {
  @include wrap;
}

/*.wrap-content-center {
  margin-left: auto;
  margin-right: auto;
  @include wrap-content;

  .align-wide,
  .alignwide {
    @include align-wide;
  }

  .align-full,
  .alignfull {
    @include align-full;
  }
}*/

.align-left {
  @include align-left;
}

.align-right {
  @include align-right;
}

.align-right-offset {
  @include align-right-offset;
}

.align-center,
.align-centre {
  margin-left: auto !important;
  margin-right: auto !important;
}

.align-full,
.alignfull {
  @include align-full;
}

.wrap-wysiwyg {
  @include clearfix;
}

.size-line-length-max {
  max-width: $line-length-max-rem;
  box-sizing: border-box;
}

figure,
blockquote,
aside {
  &.size-small {
    @media (min-width: $align-min-breakpoint) {
      width: calc(#{$align-leftright-size-small} - #{$grid-gutter/2});
    }
  }

  &.size-medium {
    @media (min-width: $align-min-breakpoint) {
      width: calc(#{$align-leftright-size-medium} - #{$grid-gutter/2});
    }
  }

  &.size-large {
    @media (min-width: $align-min-breakpoint) {
      width: calc(#{$align-leftright-size-large} - #{$grid-gutter/2});
    }

    &.align-right {
      width: #{$align-leftright-size-large};
    }

    &.align-right-offset {
      @media (min-width: $align-right-offset-breakpoint) {
        margin-left: 0;
        width: $line-length-max-rem;
        box-sizing: border-box;
      }
    }

    &.align-left {
      @media (min-width: $line-length-max-rem + $page-gutter-large) {
        margin-right: 0;
        width: $line-length-max-rem;
        box-sizing: border-box;
      }
    }
  }

  &.size-auto {
    @media (min-width: $align-min-breakpoint) {
      width: auto;
      max-width: none;
    }
  }
}